<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración</title>
    <link rel="stylesheet" href="estilos/estilo.css">
    <style>
        .admin-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .admin-form-container {
            width: 90%;
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .admin-form-container input,
        .admin-form-container select {
            margin-bottom: 15px;
        }

        .list-container {
            margin-top: 30px;
            width: 100%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .error-message {
            color: rgb(131, 78, 78);
            font-size: 0.9em;
            display: block;
            margin-top: -10px;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

    <nav class="Superior">
        <div class="elementos">
            <a href="index.html">Inicio</a>
            <a href="nosotros.html">Nosotros</a>
            <a href="contacto.html">Contacto</a>
            <a href="blogs.html">Blogs</a>
            <a href="carrito.html">Carrito</a>
            <a href="admin.html">Administrador</a>
            <a href="singup.html">Iniciar Sesión</a>
            <a href="registro.html">Regístrate</a>
        </div>
        <div>
            <a href="index.html">
                <img src="imagenes/logo.png" alt="Logo de la Cafeteria" class="logo">
            </a>
        </div>
    </nav>

    <div class="admin-section">
        <div class="admin-form-container">
            <h1>Panel de Administración</h1>
            <p>Selecciona una opción para continuar:</p>
            <div class="admin-options">
                <a href="#nuevo-producto" onclick="mostrarForm('producto')">Nuevo Producto</a>
                <a href="#nuevo-usuario" onclick="mostrarForm('usuario')">Nuevo Usuario</a>
                <a href="#lista-productos" onclick="mostrarLista('lista-productos')">Lista de Productos</a>
                <a href="#lista-usuarios" onclick="mostrarLista('lista-usuarios')">Lista de Usuarios</a>
            </div>

            <div id="producto-form" style="display: none; margin-top: 20px;">
                <h3>Nuevo Producto</h3>
                <form onsubmit="return agregarProducto()">


                    <input type="text" id="nombreProducto" placeholder="Nombre" required>
                    <span id="nombre-producto-error" class="error-message"></span>

                    <textarea id="descripcionProducto" rows="3" placeholder="Descripción"></textarea>

                    <input type="number" id="precioProducto" placeholder="Precio" required min="0">
                    <span id="precio-error" class="error-message"></span>

                    <input type="number" id="stockProducto" placeholder="Stock" required min="0">
                    <span id="stock-error" class="error-message"></span>

                    <select id="categoriaProducto" required>
                        <option value="">- Seleccione una categoría -</option>
                        <option value="cafes">Cafés</option>
                        <option value="pasteles">Pasteles</option>
                        <option value="helados">Helados</option>
                        <option value="granos">Granos</option>
                    </select>
                    <span id="categoria-error" class="error-message"></span>

                    <input type="file" id="imagenProducto" accept="image/*">

                    <button type="submit">Crear Producto</button>
                </form>
            </div>

            <div id="usuario-form" style="display: none; margin-top: 20px;">
                <h3>Nuevo Usuario</h3>
                <form onsubmit="return validarUsuarioAdmin()">
                    <input type="text" id="runUsuario" placeholder="RUT (Ej: 12345678K)" required>
                    <span id="run-error" class="error-message"></span>

                    <input type="text" id="nombreUsuario" placeholder="Nombre" required>
                    <span id="nombre-usuario-error" class="error-message"></span>

                    <input type="text" id="apellidoUsuario" placeholder="Apellidos" required>
                    <span id="apellido-usuario-error" class="error-message"></span>

                    <input type="email" id="correoUsuario" placeholder="Correo electrónico" required>
                    <span id="correo-usuario-error" class="error-message"></span>

                    <input type="date" id="fechaNacimientoUsuario">

                    <select id="tipoUsuario" required>
                        <option value="">- Seleccione un perfil -</option>
                        <option value="administrador">Administrador</option>
                        <option value="vendedor">Vendedor</option>
                        <option value="cliente">Cliente</option>
                    </select>
                    <span id="tipo-usuario-error" class="error-message"></span>

                    <input type="text" id="direccionUsuario" placeholder="Dirección" required>
                    <span id="direccion-error" class="error-message"></span>

                    <button type="submit">Crear Usuario</button>
                </form>
            </div>

            <div id="lista-productos-container" class="list-container" style="display: none;">
                <h3>Lista de Productos</h3>
                <table id="tabla-productos">
                    <thead>
                        <tr>
                            <th>código</th>
                            <th>nombre</th>
                            <th>precio</th>
                            <th>stock</th>
                            <th>acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

            <div id="lista-usuarios-container" class="list-container" style="display: none;">
                <h3>Lista de Usuarios</h3>
                <table id="usuarios-table">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Correo</th>
                            <th>Dirección</th>
                            <th>Tipo</th>
                            <th>Acciones</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        function mostrarForm(formId) {
            document.getElementById('producto-form').style.display = 'none';
            document.getElementById('usuario-form').style.display = 'none';
            document.getElementById('lista-productos-container').style.display = 'none';
            document.getElementById('lista-usuarios-container').style.display = 'none';
            document.getElementById(formId + '-form').style.display = 'block';
        }
        function mostrarLista(listId) {
            document.getElementById('producto-form').style.display = 'none';
            document.getElementById('usuario-form').style.display = 'none';
            document.getElementById('lista-productos-container').style.display = 'none';
            document.getElementById('lista-usuarios-container').style.display = 'none';
            document.getElementById(listId + '-container').style.display = 'block';

            if (listId === 'usuarios') {
                cargarUsuarios();
            } else if (listId === 'lista-productos') {
                cargarProductosAdmin();
            }
        }
    </script>
    <script src="js/validaciones.js"></script>
    <script src="js/productos.js"></script>
</body>

</html>